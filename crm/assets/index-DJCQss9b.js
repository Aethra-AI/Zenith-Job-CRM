import{r as o,j as e,B as _,C as v,P as m,T as c,n as T,aE as R,o as C,I as h,p as I}from"./index-DhQHNqrp.js";import{a as S}from"./api-B5d2cEzN.js";import{d as P}from"./dayjs.min-Tv9ClbJe.js";import{A as j}from"./Alert-dNxEE7vt.js";import{T as L,a as A,b as k,c as g,d as B}from"./TableRow-DSUve1pt.js";import{T as y}from"./TableCell-oRFRnvLi.js";import{G as d}from"./Grid-CsHilRCl.js";import{L as E}from"./ListItem-B49oP6uc.js";const z=(t,r)=>{if(t==null)return"N/A";if(["tarifa_servicio","monto_pagado","saldo_pendiente","ingresos_mes","salario_final","total_facturado","total_cobrado","total_pendiente"].includes(r)&&typeof t=="number")return`Lps. ${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;const i=P(t);return typeof t=="string"&&i.isValid()?i.format("DD/MM/YYYY h:mm A"):typeof t=="object"?JSON.stringify(t):String(t)},D=({reportName:t,reportTitle:r})=>{const[n,i]=o.useState([]),[b,p]=o.useState(!0),[f,u]=o.useState(null);if(o.useEffect(()=>{(async()=>{if(t){p(!0),u(null),i([]);try{const s=await S.get(`/reports?name=${t}`);i(s.data||[])}catch(s){console.error(`Error al cargar el reporte ${t}:`,s),u(s.message||"No se pudo cargar el reporte.")}finally{p(!1)}}})()},[t]),b)return e.jsx(_,{display:"flex",justifyContent:"center",alignItems:"center",height:400,children:e.jsx(v,{})});if(f)return e.jsx(j,{severity:"error",children:f});if(n.length===0)return e.jsx(j,{severity:"info",children:"No hay datos disponibles para este reporte."});const x=Object.keys(n[0]);return e.jsxs(m,{elevation:3,sx:{p:3},children:[e.jsx(c,{variant:"h5",gutterBottom:!0,children:r}),e.jsx(L,{children:e.jsxs(A,{stickyHeader:!0,size:"small",children:[e.jsx(k,{children:e.jsx(g,{children:x.map(a=>e.jsx(y,{sx:{fontWeight:"bold",textTransform:"capitalize"},children:a.replace(/_/g," ")},a))})}),e.jsx(B,{children:n.map((a,s)=>e.jsx(g,{children:x.map(l=>e.jsx(y,{children:z(a[l],l)},`${s}-${l}`))},s))})]})})]})},$=[{id:"vacantes_activas",name:"Vacantes Activas",icon:"solar:case-bold"},{id:"postulaciones_recientes",name:"Postulaciones Recientes",icon:"fluent:document-arrow-right-24-filled"},{id:"entrevistas_agendadas",name:"Entrevistas Agendadas",icon:"ph:calendar-check-fill"},{id:"contrataciones_realizadas",name:"Contrataciones Recientes",icon:"fa6-solid:handshake"},{id:"pagos_pendientes",name:"Pagos Pendientes",icon:"fa6-solid:file-invoice-dollar"},{id:"vacantes_sin_movimiento",name:"Vacantes sin Movimiento",icon:"mdi:bed"},{id:"resumen_por_cliente",name:"Resumen por Cliente",icon:"mdi:office-building"},{id:"afiliados_nuevos",name:"Afiliados Nuevos",icon:"ph:user-plus-fill"},{id:"tiempos_promedio",name:"Tiempos Promedio (KPI)",icon:"mdi:clock-fast"},{id:"indicadores_mensuales",name:"Indicadores del Mes (KPI)",icon:"icon-park-solid:data-sheet"}],H=()=>{const[t,r]=o.useState(null),n=i=>{r(i)};return e.jsxs(_,{p:3.5,children:[e.jsx(c,{variant:"h4",gutterBottom:!0,children:"Centro de Reportes"}),e.jsxs(d,{container:!0,spacing:3,mt:2,children:[e.jsx(d,{item:!0,xs:12,md:4,lg:3,children:e.jsx(m,{elevation:2,children:e.jsx(T,{component:"nav",children:$.map(i=>e.jsx(E,{disablePadding:!0,children:e.jsxs(R,{selected:(t==null?void 0:t.id)===i.id,onClick:()=>n(i),children:[e.jsx(C,{children:e.jsx(h,{icon:i.icon})}),e.jsx(I,{primary:i.name})]})},i.id))})})}),e.jsx(d,{item:!0,xs:12,md:8,lg:9,children:t?e.jsx(D,{reportName:t.id,reportTitle:t.name}):e.jsxs(m,{elevation:2,sx:{p:4,textAlign:"center",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(h,{icon:"mdi:arrow-left",fontSize:48,color:"text.secondary"}),e.jsx(c,{variant:"h6",color:"text.secondary",mt:2,children:"Bienvenido al Centro de Reportes"}),e.jsx(c,{color:"text.secondary",children:"Selecciona un reporte del men√∫ de la izquierda para comenzar."})]})})]})]})};export{H as default};
